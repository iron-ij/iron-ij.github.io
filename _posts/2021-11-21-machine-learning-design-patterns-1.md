---
title: 머신러닝 디자인 패턴 정리(1)
date: 2021-11-21 16:10:00 +0900
categories: [머신러닝]
tags: [머신러닝, 디자인패턴]
use_math: true
---
# 시작하며

- 하염없이 서점을 돌아다니다가 제목이 느낌있는 책을 발견했다. 보통 책을 구매할 때도, 제목과 목차만보고 구매하는 편인데 `머신러닝 디자인 패턴` 이라는 제목에 끌렸고, 개발서적에서 보던 머신러닝 코드를 짤 때 적용가능한 디자인 패턴인가? 싶어서 집어들어 보았는데 정작 그런 상상과는 거리가 있는 했다. 이 책에서는 알고리즘에 대한 설명, 구성 요소, 머신러닝 아키텍처, 계층(layer)등을 기본적으로 다루지 않고 있고, 실무에서 머신러닝 시스템을 구현/운영하고자 할 때, 사용할만한  고려요소를 담았다고 보면 될 것 같다.

## 1) 누구를 위한 책인가?

- 이미 머신러닝에 대해서 어느정도 지식을 가지고 계신 분
- 머신러닝을 할때 마주하는 상황에 대한 실용적인 대안이 필요하신 분
- 머신러닝을 실무로 사용하고 있으며, 현재나 향후에 머신러닝 시스템을 구축하는 방법이 필요하신 분

## 2) 어떤 방향을 정리를 할 것인가?

- 책 자체에 대한 내용을 모두 정리하지는 않을 예정이다
- 내가 유사한 상황에 놓였을 때 사용할 수 있는 패턴을 정리해두고 꺼내쓰기 위한 용도이다

# Chap1. 머신러닝 디자인 패턴의 필요성

## 1.1 머신러닝 디자인 패턴이란?

- 디자인 패턴은 일반적으로 발생하는 문제에 대한 모범 사례와 솔루션을 추려낸 패턴을 가리키는 공학 용어를 말한다
- 각 패턴은 반복해서 발생하는 문제와 그 문제 대한 솔루션의 핵심을 설명하고 있고, 그 패턴을 활용하면 같은 방식을 두 번 고안하지 않고서도 큰 틀안에서 해결할 수 있다
- 물론 디자인 패턴은 추상적이기 때문에 같은 솔루션이더라도 각자의 선호도, 조건과 상황에 따라 응용할 수 있음
- 머신러닝이 주류가 됨에 따라서 **비즈니스 문제에 머신러닝을 적용하는 실무자는 반복되는 문제를 해결**하기 위해 `검증된 방법`을 활용해야 한다.

## 1.2 머신러닝 디자인 패턴이 필요한 이유?

- ML 시스템을 구축하는 프로세스 내에서는 ML 설계에 영향을 미치는 다양한 문제가 존재하므로, 이러한 문제를 패턴화 해두면 ML 실무자는 사고 방향에 대한 프레임을 설계할 수 있게 된다.
- 이러한 문제는 머신러닝 전체 프로세스에 얽혀있는 다양한 문제로 세분화하고 확장해서 고민해볼 수 있다. 특히 실무에서 발생할 수 있는 상황은 다음과 같은 부분을 고려해야 한다
    - 데이터 품질
        - 정확도: 데이터 자체에 신뢰성이 있어야 함
        - 완전성: 주어진 문제에 대해 학습 데이터에 다양한 표현이 고려되도록 해야 함
        - 일관성: 라벨링과 같은 작업을 할 때, 일관된 기준으로 진행해야 함
        - 적시성: 데이터의 사건이 발생한 시점과 저장된 시점의 지연시간
    - 재현성
        - 설계한 모델의 결과가 일관되어야 한다. 대부분 머신러닝 프로젝트에서는 랜덤시드를 사용하고 있고, 프레임워크/라이브러리 등을 표준화하고 컨테이너에서 ML 워크로드를 실행하는 것이 좋음
    - 데이터 드리프트
        - 데이터의 성격이 시간 흐름에 따라 크게 바뀔 수 있고 이에 따라 모델의 성능이 하락할 수 있음
        - 이를 해결하기 위해서는 지속적으로 데이터셋을 업데이트하고, 모델을 재학습 해야한다.
    - 확장
        - 실제로 서빙을 목표로하는 머신러닝 모델이라면 데이터셋/모델이 연구단계와 서빙단계에서 차이가 있을 수 있으며, 인프라나 내부 리소스등 상황에 따라 고려사항이 달라진다
    - 목표
        - 모델의 목표를 정의할때 조직 내 각 팀의 요구사항이 모델과 어떻게 관련되는지 고려하는 것이 중요함

모든 책이 그러하듯 첫 챕터는 전체 책에 대한 개략적인 이야기를 다루고 있다. 조금은 학술적인 내용인 것 같지만, 이후 챕터보다는 조금 더 데이터를 다루는 쪽에 가까운 것 같고, 이미 알고있거나 써본적있지만 정리해볼만한 내용들이 있었다. 이후에는 Chap2~8까지의 내용을 챕터별로 정리해볼 예정이다.